---
title: "Knight Lab: Local News Lens"
subtitle: |
  | Final Artifact 
author: "Jillian Moore, Eunice Lee, Sophia Zhang, Melissa Dai and Keya Chaudhuri"
pagetitle: "Final Artifact"
date: today

format:
  html:
    toc: true
    embed-resources: true
    
execute:
  warning: false

from: markdown+emoji 
reference-location: margin
citation-location: margin
---

::: {.callout-tip icon=false}

## Github Repo Link

[Local News Lens Repo](https://github.com/jillian-moore/knight-lab)

:::

```{r}
#| label: load-pkg-data-hidden
#| echo: false
#| results: 'hide'

# load extra packages ----
library(here)
library(kableExtra)
library(vip)

# load helper functions ----
source(here("r_scripts/1.5_helper_functions.R"))

# handle conflicts
tidymodels_prefer()

# load necessary results ----
paths <- list.files(path = here("results/"), pattern = "*.rda", full.names = TRUE)
for (path in paths){
  load(path)
}

# clean up space
rm(path, paths)

# load necessary objects
load(here("data/animals.rda"))
load(here("data/animals_eda_sample.rda"))
```

# Framing Narrative

# Collaborative Process Reflection

# Visual & Technical Documentation

# Reflective Analysis

# Design & Presentation

![Image example](path/image.png){#fig-caption}

```{r}
#| label: tbl-top-predictors
#| tbl-cap: Predictive power of feature variables 
#| echo: false

# checking predictive power of variables ----
# using vip with tidymodels workflow
importance_plot <- vip(bt_final_fit)

# extract data for table
importance_data <- vip::vi(bt_final_fit)
importance_table <- importance_data |> 
  rename(Feature = Variable) |> 
  mutate(Importance = round(Importance, 4)) |> 
  arrange(desc(Importance)) |>
  slice_head(n = 10)

# create the table
top_predictors <- importance_table |> 
  kable(
    col.names = c("Feature", "Relative Importance (%)")
  ) |> 
  kable_styling(bootstrap_options = c("striped", "hover", "condensed"))

top_predictors
```

